<h1 class="text-3xl text-green-700 text-center my-5">Register Now : </h1>
<form [formGroup]="RegisterForm" (ngSubmit)="RegisterSubmit()">

  @if (ErrorMessage.length>0)
  {
    <div class="p-4 mb-4 text-sm text-center text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
      <span class="font-medium">{{ErrorMessage}}</span>
    </div>
  }
  
  

    <div class="w-[75%] mx-auto">
        <div class="mb-5">
            <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Name</label>
            <input formControlName="name" type="text" id="base-input" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-700 focus:border-green-700 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-700 dark:focus:border-green-700">
    
            @if(RegisterForm.get("name")?.errors && RegisterForm.get("name")?.touched)
            {
                  @if (RegisterForm.get("name")?.getError("required")) 
                  {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Name Required.</span>
                      </div>
                  }
                 @else if (RegisterForm.get("name")?.getError("minlength") || RegisterForm.get("name")?.getError("maxlength"))
                 {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Invalid name entered. Please ensure the name contains only letters between 3-20 and is free of special characters or numbers.</span>
                      </div>
                 }
            }
            
        </div>
       
        <div class="mb-5">
            <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label>
            <input formControlName="email" type="text" id="base-input" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-700 focus:border-green-700 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-700 dark:focus:border-green-700">
            @if(RegisterForm.get("email")?.errors && RegisterForm.get("email")?.touched)
            {
                  @if (RegisterForm.get("email")?.getError("required")) 
                  {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Email Required.</span>
                      </div>
                  }
                 @else if (RegisterForm.get("email")?.getError("email"))
                 {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Invalid email entered. Please ensure the your email exists </span>
                      </div>
                 }
            }
        </div>
        <div class="mb-5">
            <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label>
            <input formControlName="password" type="text" id="base-input" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-700 focus:border-green-700 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-700 dark:focus:border-green-700">
            
            
            @if(RegisterForm.get("password")?.errors && RegisterForm.get("password")?.touched)
            {
                  @if (RegisterForm.get("password")?.getError("required")) 
                  {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Password Required.</span>
                      </div>
                  }
                 @else if (RegisterForm.get("password")?.getError("pattern"))
                 {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Please ensure your password meets the required criteria, such as a minimum length, uppercase and lowercase letters, numbers, and special characters.</span>
                      </div>
                 }
            }
            

        </div>
        <div class="mb-5"> 
            <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">RePassword</label>
            <input formControlName="rePassword" type="text" id="base-input" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-700 focus:border-green-700 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-700 dark:focus:border-green-700">
          

            @if(RegisterForm.get("rePassword")?.errors && RegisterForm.get("rePassword")?.touched)
            {
                  @if (RegisterForm.get("rePassword")?.getError("required")) 
                  {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">RePassword Required.</span>
                      </div>
                  }
                }
        </div>
        @if (RegisterForm.errors && RegisterForm.touched && RegisterForm.get("rePassword")?.touched)
        {
           <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
               <span class="font-medium">Passwords do not match</span>
             </div>
        }

        <div class="mb-5">
            <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Phone Number</label>
            <input formControlName="phone" type="text" id="base-input" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-700 focus:border-green-700 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
 
            @if(RegisterForm.get("phone")?.errors && RegisterForm.get("phone")?.touched)
            {
                  @if (RegisterForm.get("phone")?.getError("required")) 
                  {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Phone Required.</span>
                      </div>
                  }
                 @else if (RegisterForm.get("phone")?.getError("pattern"))
                 {
                    <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium">Invalid phone number entered. Please ensure it follows the correct Egyptian format: a 10- or 11-digit number starting with '01' for mobile numbers (e.g., 01012345678).</span>
                      </div>
                 }
            }
       
        </div>
    
        <button [disabled]="RegisterForm.invalid"  type="submit" class="bg-green-700 disabled:!bg-gray-500 p-2 rounded-md text-white mb-3 ">Submit
          @if(IsLoading)
          {
            <i class="fa-solid fa-spinner fa-spin"></i>

          }
        </button>
    
    </div>
    
</form>
